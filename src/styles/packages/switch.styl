.pui--switch
  size = 2.75em
  width = size * 1.89

  knob-ratio = .78
  knob-size = knob-ratio * size
  knob-margin = size * ((1 - knob-ratio) / 2)

  icon-ratio = .4

  display: flex
  align-items: center
  padding: .285em 0

  &.error .knob
    @extends $inputs-error

  &.regular
    .body
      color: alpha(black, .3)
      background-color: $light-gray-b
      border-radius: 24px

      transition: background-color .3s ease

    .dummy:checked + .body
      background-color: $green-a

    .knob
      border-radius: 50%
      background-color: white
      z-index: 1

      transition: transform .3s ease, border-color .1s ease

    .icon
      top: 50%
      z-index: 0

      &.check
        left: (knob-size / 2) + knob-margin
        transform: translate3d(-50%, -50%, 0)

      &.close
        right: (knob-size / 2) + knob-margin
        transform: translate3d(50%, -50%, 0)

  &.square
    .body
      color: white
      background-color: $light-gray-b
      border-radius: 3px

    .dummy:checked + .body .knob
      background-color: $green-a

      .icon
        &.check
          transform: translate3d(-50%, -50%, 0)

        &.close
          transform: translate3d((knob-size) * 1.2, -50%, 0)

    .knob
      border-radius: 3px
      background-color: $red-a
      z-index: 0
      overflow: hidden

      transition: transform .3s ease, background-color .3s ease

    .icon
      left: 50%
      top: 50%
      transform: translate3d(-50%, -50%, 0)
      z-index: 1

      &.check
        transform: translate3d(-(knob-size) * 1.2, -50%, 0)

      &.close
        transform: translate3d(-50%, -50%, 0)

  .dummy
    @extends $inputs-dummy

    &:checked + .body .knob
      transform: 'translate3d(calc(%s - 100%), -50%, 0)' % (width - knob-margin)

  .body
    content: ''
    display: inline-block
    position: relative
    width: width
    height: size
    cursor: pointer

    .knob
      position: absolute
      left: 0
      top: 50%
      height: knob-size
      width: knob-size
      border-width: 2px
      border-style: solid
      border-color: white
      box-shadow: $inputs-shadow-float

      transform: translate3d(knob-margin, -50%, 0)

    .icon
      display: inline-block
      position: absolute
      height: knob-size * icon-ratio

      transition: transform .3s ease

  .label
    margin-left: 1em
